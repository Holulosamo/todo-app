var F=Object.defineProperty,A=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var S=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&S(e,n,t[n]);if(N)for(var n of N(t))M.call(t,n)&&S(e,n,t[n]);return e},g=(e,t)=>A(e,D(t));import{j as s,r as f,a as h,F as O,P as E,D as R,C as B,R as P,b as j}from"./vendor.07729eec.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};J();var w="/assets/icon-moon.dadf6d0a.svg",V="/assets/icon-sun.fc80f87a.svg";function _({theme:e,setTheme:t}){return s("button",{className:"theme-btn",onClick:()=>{t(e==="light"?"dark":"light")},children:s("img",{src:e==="light"?w:V})})}const y="Create a new todo...",T={id:null,task:"",done:!1};function $({createTodo:e,theme:t}){const[n,c]=f.exports.useState(y),[o,r]=f.exports.useState(!1),[d,u]=f.exports.useState(T),k={color:t==="light"?"hsl(235, 21%, 11%)":"hsl(0, 0%, 98%)",fontWeight:"500",fontSize:"1rem"},b=()=>{c("Currently typing"),r(!0)},x=()=>{c(y),r(!1)},l=a=>{a.preventDefault(),!!d.task&&(e(d),u(T))},i=a=>{u(g(p({},d),{task:a.target.value}))};return s("form",{className:"todo-form",onSubmit:l,children:h("label",{className:"todo-label",children:[s("div",{className:"form-circle"}),s("span",{style:o?k:{},className:"form-span",children:n}),s("input",{type:"text",value:d.task,className:"form-input-text",onFocus:b,onBlur:x,onChange:i})]})})}var q="/assets/icon-cross.37f00ffb.svg";function z({el:e,dataID:t,done:n,markAsCompleted:c,itemsLeft:o}){const[r,d]=f.exports.useState(n),u=()=>{c(t),o()};return s(O,{children:s("input",{id:e.task,type:"checkbox",disabled:n,checked:r,onChange:()=>d(!r),className:"todo-checkbox",onClick:u})})}function H({el:e,index:t,deleteItems:n,markAsCompleted:c,itemsLeft:o,theme:r}){const d={textDecoration:"line-through",color:r==="light"?"hsl(234, 39%, 85%)":"hsl(233, 14%, 35%)"};return s(E,{draggableId:e.id,index:t,children:u=>h("li",g(p(g(p({},u.draggableProps),{ref:u.innerRef}),u.dragHandleProps),{className:"todo-list-item",children:[s(z,{el:e,dataID:e.id,done:e.done,markAsCompleted:c,itemsLeft:o}),s("label",{className:"todo-list-label",htmlFor:e.task,children:s("span",{className:"todo-task",style:e.done?d:{},children:e.task})}),s("button",{className:"btn-delete",onClick:()=>n(e.id),children:s("img",{src:q})})]}))},e.id)}function K({clearAll:e}){return s("button",{className:"clear-btn",onClick:()=>e(),children:"Clear Completed"})}function W({name:e,filter:t,setFilter:n}){return h("li",{className:"todo-status-item",children:[s("input",{className:"radio-btn",type:"radio",id:e,name:e,checked:e===t,onChange:o=>{n(o.target.name)}}),s("label",{className:"label-text",htmlFor:e,children:e})]})}function G({FILTER_NAMES:e,filter:t,setFilter:n,itemsLeft:c,clearAll:o}){return h("ul",{className:"todo-list-status",children:[h("li",{children:[c()," items left"]}),s("ul",{className:"todo-status",children:e.map(r=>s(W,{name:r,filter:t,setFilter:n},r))}),s(K,{clearAll:o})]})}function Q({FILTER_MAP:e,FILTER_NAMES:t,filter:n,setFilter:c,setTodo:o,todo:r,deleteItems:d,markAsCompleted:u,itemsLeft:k,theme:b,clearAll:x}){const l=(i,a,m)=>{const C=[...i],[I]=C.splice(a,1);return C.splice(m,0,I),C};return h(R,{onDragEnd:i=>{const{source:a,destination:m}=i;!m||a.index===m.index&&a.droppableId===m.droppableId||o(C=>l(C,a.index,m.index))},children:[h("article",{className:"todo-container",children:[s(B,{droppableId:"tasks",children:i=>h("ul",g(p({},i.droppableProps),{ref:i.innerRef,className:"todo-list",children:[r.filter(e[n]).map((a,m)=>s(H,{index:m,el:a,deleteItems:d,markAsCompleted:u,itemsLeft:k,theme:b},a.id)),i.placeholder]}))}),s(G,{FILTER_NAMES:t,filter:n,setFilter:c,itemsLeft:k,clearAll:x})]}),s("span",{className:"info-text",children:"Drag and drop to reorder list"})]})}const U=[{id:"1",task:"Complete online JavaScript course",done:!0},{id:"2",task:"Jag around the park 3x",done:!1},{id:"3",task:"10 minutes meditation",done:!1},{id:"4",task:"Read for 1 hour",done:!1},{id:"5",task:"Pick up groceries",done:!1},{id:"6",task:"Complete Todo App on Frontend Mentor",done:!1}],v={All:()=>!0,Active:e=>!e.done,Completed:e=>e.done},X=Object.keys(v);function Y(){const[e,t]=f.exports.useState(()=>{const l=JSON.parse(localStorage.getItem("savedTodo"));return l||U}),[n,c]=f.exports.useState("All"),[o,r]=f.exports.useState(()=>{const l=localStorage.getItem("savedTheme");return l||"light"});return f.exports.useEffect(()=>{localStorage.setItem("savedTodo",JSON.stringify(e))},[e]),f.exports.useEffect(()=>{localStorage.setItem("savedTheme",o)},[o]),s("section",{className:"section","data-theme":o,children:h("article",{className:"article",children:[h("div",{className:"container",children:[s("h1",{children:"TODO"}),s(_,{theme:o,setTheme:r})]}),s($,{createTodo:l=>{l.id=`${Math.floor(Math.random()*1e3)}`,l.id.toString();const i=[...e,l];t(i)},theme:o}),s(Q,{FILTER_MAP:v,FILTER_NAMES:X,filter:n,setFilter:c,setTodo:t,todo:e,deleteItems:l=>{const i=e.filter(a=>a.id!==l);t(i)},markAsCompleted:l=>{t(i=>i.map(a=>a.id===l?g(p({},a),{done:!0}):a))},itemsLeft:()=>{const l=e.length;return e.reduce((a,m)=>m.done?a-1:a,l)},theme:o,clearAll:()=>{t([])}})]})})}P.render(s(j.StrictMode,{children:s(Y,{})}),document.getElementById("root"));
